(this.webpackJsonpfoodify_application=this.webpackJsonpfoodify_application||[]).push([[0],{72:function(e,t,n){},76:function(e,t,n){},78:function(e,t,n){},80:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(10),r=n.n(c),s=(n(72),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,130)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),c(e),r(e)}))}),o=n(44),l=n(47),u=n.n(l),d=n(55),j=n(20),h=n(45),b=n(11),f=n(122),O=n(126),v=n(123),p=n(124),g=n(114),x=Object(g.a)({navigation:{paddingBottom:"2px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gridGap:"20px"},container:{marginTop:"38px",paddingTop:"20px",gridRow:"row",justify:"center",alignItems:"center",backgroundColor:"gray"}}),m=n(128),D=n(118),S=n(119),y=n(120),I=n(125),C=n(121),M=(n(76),n(5)),N=function(e){var t=e.currentDish,n=e.ingredients;return Object(M.jsxs)("div",{className:"dish_container",children:[t.strMealThumb?Object(M.jsx)("img",{src:t.strMealThumb,className:"dish_img",alt:"Dish"}):"",Object(M.jsx)("h1",{children:t.strMeal}),n.length?Object(M.jsxs)("ul",{className:"ingredients",children:[Object(M.jsx)("h3",{children:"Ingredients:"}),n.map((function(e){return Object(M.jsx)("li",{children:e},e)}))]}):"",Object(M.jsx)("p",{children:t.strInstructions})]})},k=function(e){for(var t=[],n=Object.keys(e).filter((function(e){return e.includes("strIngredient")||e.includes("strMeasure")})),i=1;i<=n.length;i+=1)e["strIngredient".concat(i)]&&t.push("".concat(e["strIngredient".concat(i)]," ").concat(e["strMeasure".concat(i)]));return t},F=(n(78),function(e){var t=e.favoriteDishes,n=e.setFavoriteDishes,c=Object(i.useState)({}),r=Object(j.a)(c,2),s=r[0],l=r[1],u=Object(i.useState)([]),d=Object(j.a)(u,2),h=d[0],b=d[1],f=Object(i.useState)(""),v=Object(j.a)(f,2),p=v[0],g=v[1],x=Object(i.useState)(""),F=Object(j.a)(x,2),w=F[0],T=F[1],J=a.a.useState(!1),_=Object(j.a)(J,2),E=_[0],A=_[1];Object(i.useEffect)((function(){var e=localStorage.getItem("favoriteDishes");e&&n(JSON.parse(e))}),[localStorage]);var B=function(e){e.preventDefault();var t=e.target.innerText,n=JSON.parse(localStorage.getItem("favoriteDishes")).find((function(e){return e.strMeal===t}));l(n),b(k(n))},R=function(e){e.preventDefault();var t=e.target.value,i=localStorage.getItem("favoriteDishes"),a=JSON.parse(i);a.splice(t,1),localStorage.setItem("favoriteDishes",JSON.stringify(a)),n(a),l({}),b([])},L=function(){A(!1),g(""),T("")};return Object(M.jsxs)("div",{children:[t.length?"Favorite dishes:":"You don`t have favorite dishes",Object(M.jsxs)("ul",{children:[t.map((function(e,t){return Object(M.jsxs)("li",{children:[Object(M.jsx)("button",{type:"button",onClick:B,className:"dish_button",children:e.strMeal}),Object(M.jsx)(O.a,{variant:"contained",color:"default",value:t,onClick:R,children:"Delete"})]},e.idMeal)})),Object(M.jsx)(O.a,{variant:"contained",color:"primary",style:{marginTop:"10px"},onClick:function(){A(!0)},children:"Add a dish"}),Object(M.jsxs)(m.a,{open:E,onClose:L,"aria-labelledby":"form-dialog-title",children:[Object(M.jsx)(D.a,{id:"form-dialog-title",children:"Add your recipe"}),Object(M.jsxs)(S.a,{children:[Object(M.jsx)(y.a,{children:"Add a name of dish and cooking instruction"}),Object(M.jsx)(I.a,{autoFocus:!0,margin:"dense",id:"name",value:p,onChange:function(e){var t=e.target.value;g(t)},label:"Name of a dish",type:"title",fullWidth:!0}),Object(M.jsx)(I.a,{margin:"dense",id:"description",label:"Instruction",type:"text",placeholder:"Instruction",value:w,onChange:function(e){var t=e.target.value;T(t)},fullWidth:!0,multiline:!0})]}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(O.a,{onClick:L,color:"primary",children:"Cancel"}),Object(M.jsx)(O.a,{onClick:function(){var e={idMeal:t.length+1,strMeal:p,strInstructions:w};n((function(t){return[].concat(Object(o.a)(t),[e])})),g(""),T(""),A(!1)},color:"primary",children:"Add"})]})]})]}),s.idMeal?Object(M.jsx)(N,{ingredients:h,currentDish:s}):""]})}),w=(n(80),function(e){var t=e.currentDish,n=e.ingredients,a=e.fetchRandomDish,c=e.saveToFavorite,r=e.setFavoriteDishes;return Object(i.useEffect)((function(){var e=localStorage.getItem("favoriteDishes");e&&r(JSON.parse(e))}),[]),Object(M.jsxs)("div",{className:"app",children:[Object(M.jsxs)("div",{className:"button_container",children:[Object(M.jsx)(O.a,{variant:"contained",color:"default",onClick:function(){return a()},children:"Skip"}),Object(M.jsx)(O.a,{variant:"contained",color:"default",onClick:function(){return c()},children:"Save"})]}),Object(M.jsx)(N,{currentDish:t,ingredients:n})]})}),T=function(){var e=Object(i.useState)({}),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)([]),r=Object(j.a)(c,2),s=r[0],l=r[1],g=Object(i.useState)([]),m=Object(j.a)(g,2),D=m[0],S=m[1],y=x(),I=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.themealdb.com/api/json/v1/1/random.php").then((function(e){return e.json()})).then((function(e){return e.meals[0]}));case 2:t=e.sent,l(k(t)),a(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){I()}),[]),Object(i.useEffect)((function(){localStorage.setItem("favoriteDishes",JSON.stringify(D))}),[D]),Object(M.jsxs)(h.a,{basename:"/",children:[Object(M.jsxs)(f.a,{className:y.navigation,children:[Object(M.jsx)(h.b,{to:"/main",children:Object(M.jsx)(O.a,{variant:"contained",color:"primary",href:"/main",children:"Main"})}),Object(M.jsx)(h.b,{to:"/favorites",children:Object(M.jsx)(O.a,{variant:"contained",color:"primary",children:"Favorites"})})]}),Object(M.jsx)(v.a,{children:Object(M.jsx)(p.a,{container:!0,className:y.container,children:Object(M.jsxs)(b.d,{children:[Object(M.jsx)(b.b,{exact:!0,path:"/",render:function(){return Object(M.jsx)(b.a,{to:"/main"})}}),Object(M.jsx)(b.b,{path:"/main",children:Object(M.jsx)(w,{currentDish:n,ingredients:s,fetchRandomDish:I,saveToFavorite:function(){D.some((function(e){return e.idMeal===n.idMeal}))||S([].concat(Object(o.a)(D),[n]))},setFavoriteDishes:S})}),Object(M.jsx)(b.b,{path:"/favorites",children:Object(M.jsx)(F,{favoriteDishes:D,setFavoriteDishes:S})})]})})})]})};r.a.render(Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(T,{})}),document.getElementById("root")),s()}},[[83,1,2]]]);
//# sourceMappingURL=main.bc498451.chunk.js.map