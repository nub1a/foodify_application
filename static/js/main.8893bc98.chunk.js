(this.webpackJsonpfoodify_application=this.webpackJsonpfoodify_application||[]).push([[0],{27:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(19),s=n.n(i),a=(n(27),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),i(e),s(e)}))}),o=n(22),u=n(15),j=n.n(u),l=n(20),f=n(8),h=n(12),b=n(2),d=(n(29),n(1)),O=function(e){var t=e.currentDish,n=e.ingredients;return Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{src:t.strMealThumb,className:"dish_img",alt:"Dish"}),Object(d.jsx)("h1",{children:t.strMeal}),Object(d.jsx)("p",{children:t.strInstructions}),Object(d.jsxs)("ul",{children:["Ingredients:",n.map((function(e){return Object(d.jsx)("li",{children:e},e)}))]})]})},v=function(e){var t=e.favoriteDishes,n=e.setFavoriteDishes,r=Object(c.useState)({}),i=Object(f.a)(r,2),s=i[0],a=i[1],o=Object(c.useState)([]),u=Object(f.a)(o,2),j=u[0],l=u[1];Object(c.useEffect)((function(){var e=localStorage.getItem("favoriteDishes");e&&n(JSON.parse(e))}),[localStorage]);var h=function(e){e.preventDefault();var t=e.target.innerText,n=JSON.parse(localStorage.getItem("favoriteDishes")).find((function(e){return e.strMeal===t}));a(n);for(var c=[],r=1;r<=20;r+=1)n["strIngredient".concat(r)]&&c.push("".concat(n["strIngredient".concat(r)]," ").concat(n["strMeasure".concat(r)]));var i=c.filter((function(e){return e.length>3}));l(i)},b=function(e){e.preventDefault();var t=e.target.value,c=localStorage.getItem("favoriteDishes"),r=JSON.parse(c);r.splice(t,1),localStorage.clear(),localStorage.setItem("favoriteDishes",JSON.stringify(r)),n(r),a({}),l([])};return Object(d.jsxs)("div",{children:["Favorite Dishes!",Object(d.jsx)("ul",{children:t.map((function(e,t){return Object(d.jsxs)("li",{children:[Object(d.jsx)("button",{type:"button",onClick:h,children:e.strMeal}),Object(d.jsx)("button",{value:t,type:"button",onClick:b,children:"Delete"})]},e.idMeal)}))}),s.idMeal?Object(d.jsx)(O,{ingredients:j,currentDish:s}):""]})},p=(n(31),function(e){var t=e.currentDish,n=e.ingredients,r=e.fetchRandomDish,i=e.saveToFavorite,s=e.setFavoriteDishes;return Object(c.useEffect)((function(){var e=localStorage.getItem("favoriteDishes");e&&s(JSON.parse(e))}),[]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("button",{type:"button",onClick:function(){return r()},children:"Skip"}),Object(d.jsx)("button",{type:"button",onClick:function(){return i()},children:"Save"}),Object(d.jsx)(O,{currentDish:t,ingredients:n})]})}),g=function(){var e=Object(c.useState)({}),t=Object(f.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([]),s=Object(f.a)(i,2),a=s[0],u=s[1],O=Object(c.useState)([]),g=Object(f.a)(O,2),x=g[0],m=g[1],D=function(){var e=Object(l.a)(j.a.mark((function e(){var t,n,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.themealdb.com/api/json/v1/1/random.php").then((function(e){return e.json()})).then((function(e){return e.meals[0]}));case 2:for(t=e.sent,n=[],c=1;c<=20;c+=1)t["strIngredient".concat(c)]&&n.push("".concat(t["strIngredient".concat(c)]," ").concat(t["strMeasure".concat(c)]));i=n.filter((function(e){return e.length>3})),u(i),r(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){D()}),[]),Object(c.useEffect)((function(){localStorage.setItem("favoriteDishes",JSON.stringify(x))}),[x]),Object(d.jsx)("div",{children:Object(d.jsxs)(h.a,{basename:"/",children:[Object(d.jsx)(h.b,{to:"/main",children:"Main Page"}),Object(d.jsx)(h.b,{to:"/favorites",children:"Favorites page"}),Object(d.jsxs)(b.d,{children:[Object(d.jsx)(b.b,{exact:!0,path:"/",render:function(){return Object(d.jsx)(b.a,{to:"/main"})}}),Object(d.jsx)(b.b,{path:"/main",children:Object(d.jsx)(p,{currentDish:n,ingredients:a,fetchRandomDish:D,saveToFavorite:function(){m([].concat(Object(o.a)(x),[n]))},setFavoriteDishes:m})}),Object(d.jsx)(b.b,{path:"/favorites",children:Object(d.jsx)(v,{favoriteDishes:x,setFavoriteDishes:m})})]})]})})};s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(g,{})}),document.getElementById("root")),a()}},[[37,1,2]]]);
//# sourceMappingURL=main.8893bc98.chunk.js.map